<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora de Proposta - Sudomed</title>
  <link rel="manifest" href="manifest.json">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,700;1,800&display=swap" rel="stylesheet">
  <style>
    body { 
      font-family: Arial, sans-serif; 
      padding: 20px; 
      background: #2d8f47; 
      margin: 0;
    }
    
    .header {
      text-align: center;
      margin-bottom: 30px;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .logo {
      max-width: 300px;
      height: auto;
      margin-bottom: 15px;
    }
    
    .main-title {
      font-family: Arial, sans-serif;
      font-style: normal;
      font-weight: bold;
      font-size: 1.2em;
      color: #2d8f47;
      margin: 0;
      padding-bottom: 5px;
      border-bottom: 2px solid #e0e0e0;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .form-group { 
      margin-bottom: 20px; 
    }
    
    label { 
      display: block; 
      margin-bottom: 8px; 
      font-weight: bold;
      color: #333;
    }
    
    input, select, button { 
      width: 100%; 
      padding: 12px; 
      font-size: 16px; 
      border: 2px solid #ddd;
      border-radius: 5px;
      box-sizing: border-box;
    }
    
    input:focus, select:focus {
      border-color: #1e90ff;
      outline: none;
    }
    
    button { 
      background: #1e90ff; 
      color: white; 
      border: none; 
      cursor: pointer; 
      font-weight: bold;
      margin-top: 20px;
      transition: background 0.3s;
    }
    
    button:hover { 
      background: #1c86ee; 
    }
    
    .result { 
      margin-top: 30px; 
      background: #f8f9fa; 
      padding: 20px; 
      border-radius: 8px; 
      border-left: 5px solid #1e90ff;
    }
    
    .section-title {
      font-size: 1.2em;
      font-weight: bold;
      color: #2c5530;
      margin-bottom: 15px;
      padding-bottom: 5px;
      border-bottom: 2px solid #e0e0e0;
    }
    
    .gastos-adicionais {
      background: #fff3cd;
      padding: 15px;
      border-radius: 5px;
      border: 1px solid #ffeaa7;
    }
    
    @media (max-width: 600px) {
      .main-title {
        font-size: 2em;
      }
      
      .container {
        padding: 20px;
        margin: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <img src="sudomed_logo.png" alt="Sudomed Logo" class="logo">
    <h1 class="main-title">Treinamentos</h1>
  </div>

  <div class="container">
    <div class="section-title">Dados da Proposta</div>
    
    <div class="form-group">
      <label>Nome de quem est√° fazendo a proposta:</label>
      <input type="text" id="proponente">
    </div>

    <div class="form-group">
      <label>Nome da empresa cliente:</label>
      <input type="text" id="empresa">
    </div>

    <div class="form-group">
      <label>Treinamento NR:</label>
      <select id="treinamento">
        <option value="NR5">NR 5 - Comiss√£o Interna de Preven√ß√£o de Acidentes</option>
        <option value="NR6">NR 6 - Equipamentos de Prote√ß√£o Individual</option>
        <option value="NR7">NR 7 - Programa de Controle M√©dico de Sa√∫de Ocupacional</option>
        <option value="NR10">NR 10 - Seguran√ßa em Instala√ß√µes e Servi√ßos em Eletricidade</option>
        <option value="NR11">NR 11 - Transporte, Movimenta√ß√£o, Armazenagem e Manuseio de Materiais</option>
        <option value="NR12">NR 12 - Seguran√ßa no Trabalho em M√°quinas e Equipamentos</option>
        <option value="NR13">NR 13 - Caldeiras, Vasos de Press√£o, Tubula√ß√µes e Tanques Met√°licos</option>
        <option value="NR14">NR 14 - Fornos</option>
        <option value="NR18">NR 18 - Condi√ß√µes e Meio Ambiente de Trabalho na Ind√∫stria da Constru√ß√£o</option>
        <option value="NR20">NR 20 - Seguran√ßa e Sa√∫de no Trabalho com Inflam√°veis e Combust√≠veis</option>
        <option value="NR23">NR 23 - Prote√ß√£o Contra Inc√™ndios</option>
        <option value="NR31">NR 31 - Seguran√ßa e Sa√∫de no Trabalho na Agricultura, Pecu√°ria, Silvicultura, Explora√ß√£o Florestal e Aquicultura</option>
        <option value="NR33">NR 33 - Seguran√ßa e Sa√∫de nos Trabalhos em Espa√ßos Confinados</option>
        <option value="NR35">NR 35 - Trabalho em Altura</option>
        <option value="NR36">NR 36 - Seguran√ßa e Sa√∫de no Trabalho em Empresas de Abate e Processamento de Carnes e Derivados</option>
      </select>
    </div>

    <div class="section-title">Valores do Treinamento</div>

    <div class="form-group">
      <label>Valor por hora (R$):</label>
      <input type="number" id="valorHora" value="200" step="0.01">
    </div>

    <div class="form-group">
      <label>N√∫mero de horas do treinamento:</label>
      <input type="number" id="horas" step="0.5">
    </div>

    <div class="form-group">
      <label>N√∫mero de alunos:</label>
      <input type="number" id="alunos">
    </div>

    <div class="section-title">Custos de Deslocamento</div>

    <div class="form-group">
      <label>Quil√¥metros de deslocamento (s√≥ ida):</label>
      <input type="number" id="km" step="0.1">
    </div>

    <div class="form-group">
      <label>Loca√ß√£o de espa√ßo?</label>
      <select id="usaEspaco">
        <option value="nao">N√£o</option>
        <option value="sim">Sim</option>
      </select>
    </div>

    <div class="form-group" id="campoEspaco" style="display:none;">
      <label>Valor da loca√ß√£o por dia (R$):</label>
      <input type="number" id="valorEspaco" step="0.01">
    </div>

    <div class="section-title">Gastos Adicionais</div>
    
    <div class="form-group gastos-adicionais">
      <label>Valor de gastos adicionais (R$):</label>
      <input type="number" id="gastosAdicionais" value="0" step="0.01" placeholder="Digite o valor dos gastos extras">
      <small style="color: #666; font-size: 0.9em; margin-top: 5px; display: block;">
        Inclua aqui qualquer custo extra n√£o contemplado nos c√°lculos autom√°ticos
      </small>
    </div>

    <button onclick="calcularProposta()">Calcular Proposta</button>

    <div class="result" id="resultado"></div>
  </div>

  <script>
    document.getElementById('usaEspaco').addEventListener('change', function() {
      document.getElementById('campoEspaco').style.display = this.value === 'sim' ? 'block' : 'none';
    });

    function calcularProposta() {
      const valorHora = parseFloat(document.getElementById('valorHora').value) || 0;
      const horas = parseFloat(document.getElementById('horas').value) || 0;
      const km = parseFloat(document.getElementById('km').value) || 0;
      const alunos = parseInt(document.getElementById('alunos').value) || 0;
      const usaEspaco = document.getElementById('usaEspaco').value === 'sim';
      const valorEspaco = usaEspaco ? (parseFloat(document.getElementById('valorEspaco').value) || 0) : 0;
      const gastosAdicionais = parseFloat(document.getElementById('gastosAdicionais').value) || 0;

      // Valida√ß√£o b√°sica
      if (horas <= 0 || alunos <= 0) {
        alert('Por favor, preencha todos os campos obrigat√≥rios com valores v√°lidos.');
        return;
      }

      const diaria = Math.ceil(horas / 8);

      const valorTreinamento = valorHora * horas;
      const deslocamento = km * 2 * 2.5; // ida e volta
      const alimentacaoInstrutor = 100 * diaria;
      const alimentacaoAlunos = 35 * alunos * diaria;
      const aluguelCarro = 100 * diaria;
      const locacaoEspaco = valorEspaco * diaria;

      const subtotal = valorTreinamento + deslocamento + alimentacaoInstrutor + alimentacaoAlunos + aluguelCarro + locacaoEspaco;
      const total = subtotal + gastosAdicionais;

      document.getElementById('resultado').innerHTML = `
        <h3 style="color: #2c5530; margin-top: 0;">üí∞ Valor Total da Proposta: R$ ${total.toFixed(2).replace('.', ',')}</h3>
        
        <div style="margin-top: 20px;">
          <h4 style="color: #333; margin-bottom: 10px;">üìã Detalhamento dos Custos:</h4>
          <div style="background: white; padding: 15px; border-radius: 5px; margin-bottom: 15px;">
            <strong>Treinamento:</strong><br>
            ‚Ä¢ Valor do treinamento: R$ ${valorTreinamento.toFixed(2).replace('.', ',')}<br><br>
            
            <strong>Deslocamento e Log√≠stica:</strong><br>
            ‚Ä¢ Deslocamento (${km}km ida e volta): R$ ${deslocamento.toFixed(2).replace('.', ',')}<br>
            ‚Ä¢ Aluguel do carro: R$ ${aluguelCarro.toFixed(2).replace('.', ',')}<br><br>
            
            <strong>Alimenta√ß√£o:</strong><br>
            ‚Ä¢ Alimenta√ß√£o do instrutor: R$ ${alimentacaoInstrutor.toFixed(2).replace('.', ',')}<br>
            ‚Ä¢ Alimenta√ß√£o dos alunos (${alunos} alunos): R$ ${alimentacaoAlunos.toFixed(2).replace('.', ',')}<br><br>
            
            ${usaEspaco ? `<strong>Loca√ß√£o:</strong><br>‚Ä¢ Loca√ß√£o de espa√ßo: R$ ${locacaoEspaco.toFixed(2).replace('.', ',')}<br><br>` : ''}
            
            ${gastosAdicionais > 0 ? `<strong>Gastos Adicionais:</strong><br>‚Ä¢ Custos extras: R$ ${gastosAdicionais.toFixed(2).replace('.', ',')}<br><br>` : ''}
          </div>
          
          <div style="background: #e8f4fd; padding: 10px; border-radius: 5px; border-left: 4px solid #1e90ff;">
            <strong>üìÖ Informa√ß√µes do Treinamento:</strong><br>
            ‚Ä¢ Di√°rias calculadas: ${diaria}<br>
            ‚Ä¢ Carga hor√°ria: ${horas}h<br>
            ‚Ä¢ N√∫mero de participantes: ${alunos}
          </div>
        </div>
      `;
    }
  </script>
</body>
</html>

